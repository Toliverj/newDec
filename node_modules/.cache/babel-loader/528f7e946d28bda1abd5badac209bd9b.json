{"ast":null,"code":"import _slicedToArray from\"/Users/jhaelintoliver/Desktop/React-Projects/decrementF/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useRecoilValue}from'recoil';import{socket}from'./atoms';import{useHistory}from'react-router-dom';// http://192.168.0.221:3000\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var connectedSocket=useRecoilValue(socket);var history=useHistory();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),room=_useState4[0],setRoom=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),numOfUsers=_useState6[0],setNumOfUsers=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];useEffect(function(){console.log(connectedSocket);},[connectedSocket]);useEffect(function(){connectedSocket.on('numOfUsers',function(info){console.log(info);});},[]);var joinGame=function joinGame(){setLoading('Waiting for other users...');connectedSocket.emit('join',{name:name,room:room});};useEffect(function(){connectedSocket.on('numOfUsers',function(info){setNumOfUsers(info);});if(numOfUsers===2){history.push(\"/game/\".concat(room));}connectedSocket.emit('randomNumber');},[numOfUsers]);return/*#__PURE__*/_jsxs(\"div\",{className:\"home\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Enter Game\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{placeholder:\"Enter name\",value:name,onChange:function onChange(e){return setName(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{placeholder:\"Enter room\",value:room,onChange:function onChange(e){return setRoom(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:joinGame,children:\"Start\"})}),/*#__PURE__*/_jsx(\"div\",{children:loading})]});};export default Home;","map":{"version":3,"sources":["/Users/jhaelintoliver/Desktop/React-Projects/decrementF/client/src/Home.js"],"names":["React","useEffect","useState","useRecoilValue","socket","useHistory","Home","connectedSocket","history","name","setName","room","setRoom","numOfUsers","setNumOfUsers","loading","setLoading","console","log","on","info","joinGame","emit","push","e","target","value"],"mappings":"iJAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,cAAT,KAA+B,QAA/B,CACA,OAAQC,MAAR,KAAqB,SAArB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEA;wFAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,CAIjB,GAAMC,CAAAA,eAAe,CAAGJ,cAAc,CAACC,MAAD,CAAtC,CAEA,GAAMI,CAAAA,OAAO,CAAGH,UAAU,EAA1B,CAEA,cAAwBH,QAAQ,CAAC,EAAD,CAAhC,wCAAOO,IAAP,eAAaC,OAAb,eACA,eAAwBR,QAAQ,CAAC,EAAD,CAAhC,yCAAOS,IAAP,eAAaC,OAAb,eACA,eAAoCV,QAAQ,CAAC,CAAD,CAA5C,yCAAOW,UAAP,eAAmBC,aAAnB,eACA,eAA8BZ,QAAQ,CAAC,EAAD,CAAtC,yCAAOa,OAAP,eAAgBC,UAAhB,eAEAf,SAAS,CAAC,UAAM,CACdgB,OAAO,CAACC,GAAR,CAAYX,eAAZ,EACD,CAFQ,CAEN,CAACA,eAAD,CAFM,CAAT,CAIAN,SAAS,CAAC,UAAM,CAEdM,eAAe,CAACY,EAAhB,CAAmB,YAAnB,CAAiC,SAACC,IAAD,CAAU,CACvCH,OAAO,CAACC,GAAR,CAAYE,IAAZ,EACH,CAFD,EAIH,CANU,CAMR,EANQ,CAAT,CAQA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACnBL,UAAU,CAAC,4BAAD,CAAV,CACFT,eAAe,CAACe,IAAhB,CAAqB,MAArB,CAA6B,CAACb,IAAI,CAAJA,IAAD,CAAOE,IAAI,CAAJA,IAAP,CAA7B,EACD,CAHD,CAKAV,SAAS,CAAC,UAAM,CACdM,eAAe,CAACY,EAAhB,CAAmB,YAAnB,CAAiC,SAACC,IAAD,CAAU,CACzCN,aAAa,CAACM,IAAD,CAAb,CACD,CAFD,EAGI,GAAGP,UAAU,GAAK,CAAlB,CAAqB,CAEjBL,OAAO,CAACe,IAAR,iBAAsBZ,IAAtB,GACH,CAGDJ,eAAe,CAACe,IAAhB,CAAqB,cAArB,EAEL,CAZQ,CAYN,CAACT,UAAD,CAZM,CAAT,CAkBA,mBAEE,aAAK,SAAS,CAAG,MAAjB,wBACE,kCADF,cAEE,kCACE,cACE,WAAW,CAAG,YADhB,CAEE,KAAK,CAAIJ,IAFX,CAGE,QAAQ,CAAI,kBAACe,CAAD,QAAOd,CAAAA,OAAO,CAACc,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,EAHd,EADF,EAFF,cASE,kCACE,cACE,WAAW,CAAG,YADhB,CAEE,KAAK,CAAIf,IAFX,CAGE,QAAQ,CAAI,kBAACa,CAAD,QAAOZ,CAAAA,OAAO,CAACY,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,EAHd,EADF,EATF,cAgBE,kCACE,eAAQ,OAAO,CAAIL,QAAnB,mBADF,EAhBF,cAoBE,qBACKN,OADL,EApBF,GAFF,CA2BD,CA3ED,CA6EA,cAAeT,CAAAA,IAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useRecoilValue } from 'recoil'\nimport {socket} from './atoms'\nimport { useHistory } from 'react-router-dom'\n\n// http://192.168.0.221:3000\n\nconst Home = () => {\n\n  \n\n  const connectedSocket = useRecoilValue(socket)\n\n  const history = useHistory()\n\n  const [name, setName] = useState('')\n  const [room, setRoom] = useState('')\n  const [numOfUsers, setNumOfUsers] = useState(0)\n  const [loading, setLoading] = useState('')\n\n  useEffect(() => {\n    console.log(connectedSocket)\n  }, [connectedSocket])\n\n  useEffect(() => {\n\n    connectedSocket.on('numOfUsers', (info) => {\n        console.log(info)\n    })\n\n}, [])\n\n  const joinGame = () => {\n      setLoading('Waiting for other users...')\n    connectedSocket.emit('join', {name, room})\n  }\n\n  useEffect(() => {\n    connectedSocket.on('numOfUsers', (info) => {\n      setNumOfUsers(info)\n    })\n        if(numOfUsers === 2) {\n            \n            history.push(`/game/${room}`)\n        }\n        \n\n        connectedSocket.emit('randomNumber')\n    \n  }, [numOfUsers])\n\n  \n\n\n\n  return (\n\n    <div className = 'home'>\n      <h1>Enter Game</h1>\n      <div>\n        <input\n          placeholder = \"Enter name\"\n          value = {name}\n          onChange = {(e) => setName(e.target.value)}\n        />\n      </div>\n      <div>\n        <input\n          placeholder = \"Enter room\"\n          value = {room}\n          onChange = {(e) => setRoom(e.target.value)}\n        />\n      </div>\n      <div>\n        <button onClick = {joinGame}>Start</button>\n      </div>\n\n      <div>\n          {loading}\n      </div>\n    </div>\n  )\n}\n\nexport default Home\n"]},"metadata":{},"sourceType":"module"}