{"ast":null,"code":"import _slicedToArray from\"/Users/jhaelintoliver/Desktop/React-Projects/decrementF/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useRecoilValue}from'recoil';import{socket}from'./atoms';import'./styles.css';import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Game=function Game(){var _useState=useState('Get Ready'),_useState2=_slicedToArray(_useState,2),number=_useState2[0],setNumber=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),firstNumber=_useState4[0],setFirstNumber=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),secondNumber=_useState6[0],setSecondNumber=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),score=_useState8[0],setScore=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),numOfUsers=_useState10[0],setNumOfUsers=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),loser=_useState12[0],setLoser=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),winner=_useState14[0],setWinner=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),roundLost=_useState16[0],setRoundLost=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),roundWon=_useState18[0],setRoundWon=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),won=_useState20[0],setWon=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),lost=_useState22[0],setLost=_useState22[1];var _useState23=useState(true),_useState24=_slicedToArray(_useState23,2),game=_useState24[0],setGame=_useState24[1];var history=useHistory();var connectedSocket=useRecoilValue(socket);useEffect(function(){if(number===0){console.log('win');connectedSocket.emit('userWins');setScore(score+1);connectedSocket.emit('score',score);setRoundWon(false);}else if(number<0){console.log('lost');connectedSocket.emit('lost');}},[number,connectedSocket]);connectedSocket.on('loser',function(value){setLoser(value);setTimeout(function(){setLoser(false);},1000);console.log('loser',loser);});connectedSocket.on('winner',function(value){setWinner(value);setTimeout(function(){setWinner(false);},1000);console.log('winner',winner);});useEffect(function(){connectedSocket.on('won',function(value){setGame(false);setWon(value);setWinner(value);setLoser(!value);});connectedSocket.on('lost',function(value){setGame(false);setLost(value);setWinner(!value);setLoser(value);});},[]);console.log(score);useEffect(function(){connectedSocket.on('generatedNum',function(info){console.log(info);setNumber(info[0]);setFirstNumber(info[1]);setSecondNumber(info[2]);});},[]);var decrement=function decrement(num){setNumber(number-num);};return/*#__PURE__*/_jsxs(\"div\",{className:\"game\",children:[lost&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"You lost\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){window.location='/';},children:\"Return Home\"})]}),won&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"You won\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){window.location='/';},children:\"Return Home\"})]}),winner&&/*#__PURE__*/_jsx(\"h1\",{children:\"Winner\"}),loser&&/*#__PURE__*/_jsx(\"h1\",{children:\"Loser\"}),roundWon&&/*#__PURE__*/_jsx(\"h1\",{children:\"Round Won!\"}),!winner&&!loser&&game&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:number}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"button\",{className:\"game_button\",disabled:winner,onClick:function onClick(){return decrement(firstNumber);},children:[\"-\",firstNumber]}),/*#__PURE__*/_jsxs(\"button\",{className:\"game_button\",onClick:function onClick(){return decrement(secondNumber);},children:[\"-\",secondNumber]}),/*#__PURE__*/_jsx(\"button\",{className:\"game_button\",onClick:function onClick(){return decrement(1);},children:-1})]})]})]});};export default Game;","map":{"version":3,"sources":["/Users/jhaelintoliver/Desktop/React-Projects/decrementF/client/src/Game.js"],"names":["React","useEffect","useState","useRecoilValue","socket","useHistory","Game","number","setNumber","firstNumber","setFirstNumber","secondNumber","setSecondNumber","score","setScore","numOfUsers","setNumOfUsers","loser","setLoser","winner","setWinner","roundLost","setRoundLost","roundWon","setRoundWon","won","setWon","lost","setLost","game","setGame","history","connectedSocket","console","log","emit","on","value","setTimeout","info","decrement","num","window","location"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useRecoilValue } from 'recoil'\nimport { socket } from './atoms'\nimport './styles.css'\nimport {useHistory} from 'react-router-dom'\n\nconst Game = () => {\n\n    const [number, setNumber] = useState('Get Ready')\n    const [firstNumber, setFirstNumber] = useState(0)\n    const [secondNumber, setSecondNumber] = useState(0)\n    let [score, setScore] = useState(0)\n\n    const [numOfUsers, setNumOfUsers] = useState(0)\n    const [loser, setLoser] = useState(false)\n    const [winner, setWinner] = useState(false)\n    const [roundLost, setRoundLost] = useState(false)\n    const [roundWon, setRoundWon] = useState(false)\n    const [won, setWon] = useState(false)\n    const [lost, setLost] = useState(false)\n    const [game, setGame] = useState(true)\n\n    const history = useHistory()\n\n    const connectedSocket = useRecoilValue(socket)\n\n    useEffect(() => {\n            if(number === 0) {\n                    console.log('win')\n                    connectedSocket.emit('userWins')\n                    setScore(score + 1)\n                    connectedSocket.emit('score', score)\n\n         \n                       \n\n                    setRoundWon(false)\n                   \n            }\n            else if (number < 0) {\n\n                console.log('lost')\n                    connectedSocket.emit('lost')\n\n                    \n\n            }\n    }, [number, connectedSocket])\n    \n\n    connectedSocket.on('loser', (value) => {\n        setLoser(value)\n\n        setTimeout(() => {\n            setLoser(false)\n        }, 1000)\n        console.log('loser',loser)\n    })\n    connectedSocket.on('winner', (value) => {\n        setWinner(value)\n        setTimeout(() => {\n            setWinner(false)\n        }, 1000)\n        console.log('winner',winner)\n    })\n\n    useEffect(() => {\n\n        connectedSocket.on('won', (value) => {\n            setGame(false)\n            setWon(value)\n            setWinner(value)\n            setLoser(!value)\n            \n        })\n        connectedSocket.on('lost', (value) => {\n            setGame(false)\n            setLost(value)\n            setWinner(!value)\n            setLoser(value)\n        })\n\n    }, [])\n\n    \n\n\n   \n    console.log(score)\n\n   \n\n    useEffect(() => {\n\n        \n\n            connectedSocket.on('generatedNum', (info) => {\n                console.log(info)\n                setNumber(info[0])\n                setFirstNumber(info[1])\n                setSecondNumber(info[2])\n            })\n\n           \n    }, [])\n\n\n   \n\n    const decrement = (num) => {\n        setNumber(number - num)\n    }\n\n    return (\n        \n        <div className = 'game'>\n\n\n            {lost && <div><h1>You lost</h1><button onClick = {() => {window.location = '/'}}>Return Home</button></div>}\n            {won && <div><h1>You won</h1><button onClick = {() => {window.location = '/'}}>Return Home</button></div>}\n\n\n\n            {winner && <h1>Winner</h1>}\n            {loser && <h1>Loser</h1>}\n\n            {roundWon && <h1>Round Won!</h1>}\n\n            {(!winner && !loser && game) &&\n            <>\n                    <h1>{number}</h1>\n                \n                <div>\n                    <button className = 'game_button' disabled = {winner} onClick = {() => decrement(firstNumber)}>-{firstNumber}</button>\n                    <button className = 'game_button' onClick = {() => decrement(secondNumber)}>-{secondNumber}</button>\n                    <button className = 'game_button' onClick = {() => decrement(1)}>{-1}</button>\n                </div>\n            </>\n                }\n\n\n                \n\n            \n            \n        </div>\n    )\n}\n\nexport default Game\n"]},"metadata":{},"sourceType":"module"}